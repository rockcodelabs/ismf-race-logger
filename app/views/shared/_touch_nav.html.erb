<%# Touch Navigation - Floating Hamburger Menu
    
    Usage:
      <%= render "shared/touch_nav" %>
    
    Features:
      - Floating hamburger button (bottom-left, 96px, semi-transparent)
      - Slide-in menu from left (60% width)
      - Minimal navigation: Home, Back, Sign Out
      - Close by tapping hamburger or visible content area
    
    Requirements:
      - Requires touch_nav_controller.js (Stimulus)
      - Requires touch.css styles
%>

<div data-controller="touch-nav">
  
  <%# Floating Hamburger Button %>
  <button 
    data-action="click->touch-nav#toggle" 
    data-touch-nav-target="hamburger"
    class="touch-hamburger-btn"
    aria-label="Toggle Menu">
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 3rem; height: 3rem;">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
  </button>

  <%# Slide-in Menu Panel %>
  <div 
    data-touch-nav-target="menu"
    data-action="click->touch-nav#closeIfOutside"
    class="touch-menu-panel">
    
    <div class="touch-menu-content">
      
      <%# Menu Items %>
      <nav class="touch-menu-items">
        
        <%# Home Button %>
        <%= link_to root_path, class: "touch-menu-item" do %>
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="touch-menu-icon">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
          <span>Home</span>
        <% end %>
        
        <%# Back Button %>
        <button data-action="click->touch-nav#goBack" class="touch-menu-item">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="touch-menu-icon">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
          </svg>
          <span>Back</span>
        </button>
        
        <%# Sign Out Button (if authenticated) %>
        <% if Current.user %>
          <%= button_to session_path, method: :delete, class: "touch-menu-item" do %>
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="touch-menu-icon">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            <span>Sign Out</span>
          <% end %>
        <% end %>
        
      </nav>
      
    </div>
  </div>

</div>
